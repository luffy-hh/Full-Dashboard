const shan = [
  {
    type: "club",
    name: "A",
    value: 1,
  },
  {
    type: "club",
    name: "2",
    value: 2,
  },
  {
    type: "club",
    name: "3",
    value: 3,
  },
  {
    type: "club",
    name: "4",
    value: 4,
  },
  {
    type: "club",
    name: "5",
    value: 5,
  },
  {
    type: "club",
    name: "6",
    value: 6,
  },
  {
    type: "club",
    name: "7",
    value: 7,
  },
  {
    type: "club",
    name: "8",
    value: 8,
  },
  {
    type: "club",
    name: "9",
    value: 9,
  },
  {
    type: "club",
    name: "10",
    value: 10,
  },
  {
    type: "club",
    name: "jack",
    value: 10,
  },
  {
    type: "club",
    name: "queen",
    value: 10,
  },
  {
    type: "club-king",
    name: "king",
    value: 10,
  },

  {
    type: "diamond",
    name: "A",
    value: 1,
  },
  {
    type: "diamond",
    name: "2",
    value: 2,
  },
  {
    type: "diamond",
    name: "3",
    value: 3,
  },
  {
    type: "diamond",
    name: "4",
    value: 4,
  },
  {
    type: "diamond",
    name: "5",
    value: 5,
  },
  {
    type: "diamond",
    name: "6",
    value: 6,
  },
  {
    type: "diamond",
    name: "7",
    value: 7,
  },
  {
    type: "diamond",
    name: "8",
    value: 8,
  },
  {
    type: "diamond",
    name: "9",
    value: 9,
  },
  {
    type: "diamond",
    name: "10",
    value: 10,
  },
  {
    type: "diamond",
    name: "jack",
    value: 10,
  },
  {
    type: "diamond",
    name: "queen",
    value: 10,
  },
  {
    type: "diamond",
    name: "king",
    value: 10,
  },

  {
    type: "heart",
    name: "A",
    value: 1,
  },
  {
    type: "heart",
    name: "2",
    value: 2,
  },
  {
    type: "heart",
    name: "3",
    value: 3,
  },
  {
    type: "heart",
    name: "4",
    value: 4,
  },
  {
    type: "heart",
    name: "5",
    value: 5,
  },
  {
    type: "heart",
    name: "6",
    value: 6,
  },
  {
    type: "heart",
    name: "7",
    value: 7,
  },
  {
    type: "heart",
    name: "8",
    value: 8,
  },
  {
    type: "heart",
    name: "9",
    value: 9,
  },
  {
    type: "heart",
    name: "10",
    value: 10,
  },
  {
    type: "heart",
    name: "jack",
    value: 10,
  },
  {
    type: "heart",
    name: "queen",
    value: 10,
  },
  {
    type: "heart",
    name: "king",
    value: 10,
  },

  {
    type: "spade",
    name: "A",
    value: 1,
  },
  {
    type: "spade",
    name: "2",
    value: 2,
  },
  {
    type: "spade",
    name: "3",
    value: 3,
  },
  {
    type: "spade",
    name: "4",
    value: 4,
  },
  {
    type: "spade",
    name: "5",
    value: 5,
  },
  {
    type: "spade",
    name: "6",
    value: 6,
  },
  {
    type: "spade",
    name: "7",
    value: 7,
  },
  {
    type: "spade",
    name: "8",
    value: 8,
  },
  {
    type: "spade",
    name: "9",
    value: 9,
  },
  {
    type: "spade",
    name: "10",
    value: 10,
  },
  {
    type: "spade",
    name: "jack",
    value: 10,
  },
  {
    type: "spade",
    name: "queen",
    value: 10,
  },
  {
    type: "spade",
    name: "king",
    value: 10,
  },
];

const account1 = {
  name: "user-1",
  amount: 30000,
  username: "account1@gmail.com",
  password: 12345678,
  shan: [],
  shanValue: [],
  shanFinalValue: 0,
};
const account2 = {
  name: "user-2",
  amount: 30000,
  username: "account2@gmail.com",
  password: 12345678,
  shan: [],
  shanValue: [],
  shanFinalValue: 0,
};
const account3 = {
  name: "user-3",
  amount: 30000,
  username: "account3@gmail.com",
  password: 12345678,
  shan: [],
  shanValue: [],
  shanFinalValue: 0,
};
const account4 = {
  name: "user-4",
  amount: 30000,
  username: "account4@gmail.com",
  password: 12345678,
  shan: [],
  shanValue: [],
  shanFinalValue: 0,
};
const account5 = {
  name: "user-5",
  amount: 30000,
  username: "account5@gmail.com",
  password: 12345678,
  shan: [],
  shanValue: [],
  shanFinalValue: 0,
};
const account6 = {
  name: "user-6",
  amount: 30000,
  username: "account6@gmail.com",
  password: 12345678,
  shan: [],
  shanValue: [],
  shanFinalValue: 0,
};
const account7 = {
  name: "user-7",
  amount: 30000,
  username: "account7@gmail.com",
  password: 12345678,
  shan: [],
  shanValue: [],
  shanFinalValue: 0,
};
const account8 = {
  name: "user-8",
  amount: 30000,
  username: "account8@gmail.com",
  password: 12345678,
  shan: [],
  shanValue: [],
  shanFinalValue: 0,
};
const account9 = {
  name: "user-9",
  amount: 30000,
  username: "account9@gmail.com",
  password: 12345678,
  shan: [],
  shanValue: [],
  shanFinalValue: 0,
};

const accounts = [
  account1,
  account2,
  account3,
  account4,
  account5,
  account6,
  account7,
  account8,
  account9,
];

// user ကိုးယောက်ထဲက တစ်ယောက်က banker ဖြစ်မယ်... သူ့ကို ၅ ကြိမ်တစ်ခါ 1 - 9 အစဉ်အတိုင်း သတ်မှတ်မယ်

//banker function - လောလောဆယ် banker ကို account - 1 default သတ်မှတ်ထားသည်
const banker = () => {
  const bankerNumber = 0;
  accounts[bankerNumber].banker = "banker";
  console.log(accounts[bankerNumber]);
};
banker();
const shanArray = [];
// Shan Array ထဲကို 0 - 51 ကြား random number ၂၇ လုံးထည့်မယ်..
// ရလာတဲ့ Random Number တွေကို ထပ်/မထပ် စစ်ထုတ်ရမယ် တစ်ကယ်လို့ array ထဲမှာ ရှိပြီးသား value ဖြစ်နေတယ်ဆိုရင် Random Number ကို နောက်တစ်ကြိမ် ပြန် run ခိုင်းပြီး ထပ်တိုက်စစ်မယ် နောက်ဆုံး မတူညီတဲ့ Random Number ၂၇ လုံးဖြစ်တော့မှ array ကို အမှန်ယူမယ်...

const shanArrayValue = () => {
  let shanVal = Math.round(Math.random() * 51);
  if (shanArray.includes(shanVal)) {
    shanVal = Math.round(Math.random() * 51);
  } else {
    shanArray.push(shanVal);
  }
};
let i = 0;
while (i < 1) {
  shanArrayValue();
  if (shanArray.length === 27) {
    i++;
  }
}

//ရလာတဲ့ shanArray ထဲက Random Number 27 လုံးကို user တစ်ယောက်လျင် ၁ ကြိမ် နှစ်ခါ ပေးမယ်... အဲ့ဒီ value တွေကို user object ရဲ့ shan property ထဲကို ထည့်မှာဖြစ်ပါတယ်...
accounts.forEach((acc, i) => acc.shan.push(shanArray[i]));
shanArray.splice(0, 9);
accounts.forEach((acc, i) => acc.shan.push(shanArray[i]));
shanArray.splice(0, 9);
// accounts.forEach((acc, i) => acc.shan.push(shanArray[i]));
console.log(accounts);
console.log(shanArray);
console.log(accounts);
console.log(account1.shan[0]);
console.log(account5.shan[1]);

// account တိုင်းရဲ့ shan property တွေထဲမှာ array တစ်ခုစီရှိနေပြီ အဲ့ဒီ array ထဲက value အတိုင်း shan array ထဲက object တွေကို ဆွဲထုတ်ပြီး account တစ်ခုချင်းစီရဲ့ ကိုယ်ပိုင် object နှစ်ခုစီအနေနဲ့ပြမှာဖြစ်ပါတယ်...
accounts.forEach((acc) => acc.shanValue.push(shan[acc.shan[0]].value));
accounts.forEach((acc) => acc.shanValue.push(shan[acc.shan[1]].value));
console.log(accounts);
//account တစ်ခုချင်းစီတိုင်းက shanValue တွေကိုပေါင်းပြီး total မှာ သွားသိမ်းမှာဖြစ်ပါတယ်...
accounts.forEach(
  (acc) => (acc.total = acc.shanValue.reduce((accr, val) => accr + val))
);
console.log(accounts);
//ရလာတဲ့ Total Value ရဲ့ နောက်ဆုံး value ကို account တစ်ခုချင်းစီရဲ့ final value မှာ သွား သိမ်းမှာဖြစ်ပါတယ်... နံပါတ်နှစ်လုံးရှိရင် နောက်ဆုံးအလုံးယူမယ် တစ်လုံးတည်းရှိရင်တော့ အဲ့ဒီတစ်လုံးပဲယူမှာ ဖြစ်ပါတယ်...

accounts.forEach(
  (acc) => (acc.shanFinalValue = Number(acc.total.toString().slice(-1)))
);
console.log("final", accounts);
// 0 ကို Buu လို့ပြောမှာဖြစ်ပြီး 8 ကို 8 Do 9 ကို 9 Do လို့ ပြောင်းလဲ သတ်မှတ်မှာဖြစ်ပါတယ်...
for (let i = 0; i < accounts.length; i++) {
  if (accounts[i].shanFinalValue === 0) {
    accounts[i].speakValue = "Buu";
  } else if (accounts[i].shanFinalValue === 8) {
    accounts[i].speakValue = "8 Doo";
  } else if (accounts[i].shanFinalValue === 9) {
    accounts[i].speakValue = "9 Doo";
  } else {
    accounts[i].speakValue = accounts[i].shanFinalValue;
  }
}
//object တွေထဲမှာ banker property ရှိ/မရှိ ရှာမယ်... တွေ့ရင် banker object ကို ဆွဲထုတ်ထားမယ်
const [bankerObject] = accounts.filter((acc) => acc.banker === "banker");
console.log(bankerObject);
//banker object ထဲက shanFinalValue နဲ့ တစ်ခြား account များရဲ့ final value တွေကို တိုက်စစ်ပါ့မယ်... ပြီးတော့ တစ်ခြားအကောင့်များကို အနိုင် / အရှုံး သတ်မှတ်ပေးပါ့မယ်...

for (let i = 0; i < accounts.length; i++) {
  if (accounts[i].hasOwnProperty("banker")) {
    continue;
  }
  if (accounts[i].shanFinalValue >= bankerObject.shanFinalValue) {
    accounts[i].result = "Win";
  } else {
    accounts[i].result = "Lose";
  }
}
console.log(accounts);

for (let i = 0; i < accounts.length; i++) {
  console.log(`player ${i}`, accounts[i].result);
}
///////////////////////////////////////////////////////////////
// console.log(`///////////////////////////////////////////////////////////////`);

// const num = [1, 2, 3];
// const doubleNum = num.map((el) => el * 2);
// console.log(doubleNum);
